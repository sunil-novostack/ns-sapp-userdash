{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\novostack\\\\shopify\\\\apps\\\\ns-sapp-userdash\\\\pages\\\\signup.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Router from \"next/router\";\nimport { Form, FormLayout, Page, Layout, Card, TextField, Button, Icon, DisplayText, Link } from '@shopify/polaris';\nimport { IoIosContact } from \"react-icons/io\";\nimport firebase from '../lib/db/Firebase';\nimport Cookies from 'js-cookie';\n\nvar Signup = /*#__PURE__*/function (_Component) {\n  _inherits(Signup, _Component);\n\n  var _super = _createSuper(Signup);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUserFirstNameChange\", function (value) {\n      _this.setState({\n        userFirestName: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUserLastNameChange\", function (value) {\n      _this.setState({\n        userLastName: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUsernameChange\", function (value) {\n      _this.setState({\n        userName: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUserpassChange\", function (value) {\n      _this.setState({\n        userPass: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSignupSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        var signupForm, auth;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                signupForm = {\n                  first_name: _this.state.userFirestName,\n                  last_name: _this.state.userLastName,\n                  email: _this.state.userName,\n                  url: Cookies.get('shopOrigin')\n                };\n                _context2.next = 3;\n                return firebase.auth();\n\n              case 3:\n                auth = _context2.sent;\n                auth.createUserWithEmailAndPassword(_this.state.userName, _this.state.userPass).then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return firebase.auth().currentUser.uid;\n\n                        case 2:\n                          signupForm.uid = _context.sent;\n                          Cookies.set('nsns', signupForm.uid);\n                          Router.push('/dashboard');\n\n                        case 5:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                })), function (error) {\n                  console.log(error);\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      isuserLoggedin: false,\n      userFirestName: '',\n      userLastName: '',\n      userName: '',\n      userPass: ''\n    };\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(Page, {\n        children: /*#__PURE__*/_jsxDEV(Layout, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sectioned: true,\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              name: \"signup-form\",\n              onSubmit: this.handleSignupSubmit,\n              method: \"post\",\n              children: /*#__PURE__*/_jsxDEV(FormLayout, {\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  source: IoIosContact,\n                  backdrop: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(DisplayText, {\n                  size: \"medium\",\n                  children: \"Sign Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(FormLayout.Group, {\n                  condensed: true,\n                  children: [/*#__PURE__*/_jsxDEV(TextField, {\n                    name: \"userFirestName\",\n                    type: \"text\",\n                    placeholder: \"First Name *\",\n                    value: this.state.userFirestName,\n                    onChange: this.handleUserFirstNameChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 52,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                    name: \"userLastName\",\n                    type: \"text\",\n                    placeholder: \"Last Name \",\n                    value: this.state.userLastName,\n                    onChange: this.handleUserLastNameChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  name: \"userName\",\n                  type: \"email\",\n                  placeholder: \"Email Address *\",\n                  value: this.state.userName,\n                  onChange: this.handleUsernameChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  name: \"userPass\",\n                  type: \"password\",\n                  placeholder: \"Password *\",\n                  value: this.state.userPass,\n                  onChange: this.handleUserpassChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  name: \"signup\",\n                  size: \"medium\",\n                  primary: true,\n                  submit: \"true\",\n                  children: \"SIGN UP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  url: \"/signin\",\n                  children: \"have an account? Sign In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nexport { Signup as default };","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-sapp-userdash/pages/signup.js"],"names":["React","Component","Router","Form","FormLayout","Page","Layout","Card","TextField","Button","Icon","DisplayText","Link","IoIosContact","firebase","Cookies","Signup","props","value","setState","userFirestName","userLastName","userName","userPass","event","signupForm","first_name","state","last_name","email","url","get","auth","createUserWithEmailAndPassword","then","currentUser","uid","set","push","error","console","log","isuserLoggedin","handleSignupSubmit","handleUserFirstNameChange","handleUserLastNameChange","handleUsernameChange","handleUserpassChange"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport Router from \"next/router\";\r\nimport { Form, FormLayout, Page, Layout, Card, TextField, Button, Icon, DisplayText, Link } from '@shopify/polaris';\r\nimport {IoIosContact } from \"react-icons/io\";\r\nimport firebase  from '../lib/db/Firebase';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport default class Signup extends Component {\r\n    constructor(props) {\r\n        super(props)  \r\n        this.state = {\r\n            isuserLoggedin:false,\r\n            userFirestName:'',\r\n            userLastName:'',\r\n            userName:'',\r\n            userPass:'',\r\n        }\r\n    }\r\n    \r\n    handleUserFirstNameChange = (value) =>{this.setState({userFirestName:value})}\r\n    handleUserLastNameChange = (value) => {this.setState({userLastName:value})}\r\n    handleUsernameChange = (value) => {this.setState({userName:value})}\r\n    handleUserpassChange = (value) => {this.setState({userPass:value})}\r\n\r\n\r\n    handleSignupSubmit = async (event) => {\r\n        const signupForm = {\r\n            first_name : this.state.userFirestName,\r\n            last_name : this.state.userLastName,\r\n            email : this.state.userName,\r\n            url:Cookies.get('shopOrigin')\r\n        }\r\n        const auth = await firebase.auth()\r\n        auth.createUserWithEmailAndPassword(this.state.userName,this.state.userPass).then( async function(){\r\n            signupForm.uid = await firebase.auth().currentUser.uid;\r\n            Cookies.set('nsns',signupForm.uid);\r\n            Router.push('/dashboard')\r\n        },function(error){\r\n            console.log(error)\r\n        })\r\n    }\r\n    render(){\r\n        return (\r\n            <Page>\r\n                <Layout>\r\n                    <Card sectioned>\r\n                        <Form name=\"signup-form\" onSubmit={this.handleSignupSubmit} method=\"post\">\r\n                            <FormLayout>\r\n                                <Icon source={IoIosContact} backdrop={false} />\r\n                                <DisplayText size=\"medium\">Sign Up</DisplayText>\r\n                                <FormLayout.Group condensed>\r\n                                    <TextField\r\n                                        name=\"userFirestName\"\r\n                                        type=\"text\"\r\n                                        placeholder=\"First Name *\"\r\n                                        value={this.state.userFirestName}\r\n                                        onChange={this.handleUserFirstNameChange}\r\n                                    />\r\n                                    <TextField\r\n                                        name=\"userLastName\"\r\n                                        type=\"text\"\r\n                                        placeholder=\"Last Name \"\r\n                                        value={this.state.userLastName}\r\n                                        onChange={this.handleUserLastNameChange}\r\n                                    />\r\n                                </FormLayout.Group>\r\n                                \r\n                                <TextField\r\n                                    name=\"userName\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email Address *\"\r\n                                    value={this.state.userName}\r\n                                    onChange={this.handleUsernameChange}\r\n                                />\r\n                                <TextField\r\n                                    name=\"userPass\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password *\"\r\n                                    value={this.state.userPass}\r\n                                    onChange={this.handleUserpassChange}\r\n                                />\r\n                                <Button name=\"signup\" size=\"medium\" primary={true} submit=\"true\">SIGN UP</Button>\r\n                                <Link url=\"/signin\" >have an account? Sign In</Link>\r\n                            </FormLayout>\r\n                        </Form>\r\n                    </Card>\r\n                </Layout>    \r\n            </Page>\r\n        );\r\n    }\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}